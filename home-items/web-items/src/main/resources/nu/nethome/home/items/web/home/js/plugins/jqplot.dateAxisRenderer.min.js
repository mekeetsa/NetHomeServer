/* jqplot 1.0.9 | (c) 2009-2020 Chris Leonello | jqplot.com
   jsDate | (c) 2010-2020 Chris Leonello
 */

!function(_){_.jqplot.DateAxisRenderer=function(){_.jqplot.LinearAxisRenderer.call(this),this.date=new _.jsDate};var t=1e3,i=6e4,e=36e5,D=24*e,s=7*D,b=30.4368499*D,j=365.242199*D,I=["%M:%S.%#N","%M:%S.%#N","%M:%S.%#N","%M:%S","%M:%S","%M:%S","%M:%S","%H:%M:%S","%H:%M:%S","%H:%M","%H:%M","%H:%M","%H:%M","%H:%M","%H:%M","%a %H:%M","%a %H:%M","%b %e %H:%M","%b %e %H:%M","%b %e %H:%M","%b %e %H:%M","%v","%v","%v","%v","%v","%v","%v"],S=[100,200,500,t,2e3,5e3,1e4,15e3,3e4,i,2*i,3e5,6e5,9e5,18e5,e,2*e,4*e,6*e,8*e,12*e,D,2*D,3*D,4*D,5*D,s,2*s];_.jqplot.DateAxisRenderer.prototype=new _.jqplot.LinearAxisRenderer,_.jqplot.DateAxisRenderer.prototype.constructor=_.jqplot.DateAxisRenderer,_.jqplot.DateTickFormatter=function(t,i){return t=t||"%Y/%m/%d",_.jsDate.strftime(i,t)},_.jqplot.DateAxisRenderer.prototype.init=function(t){this.tickOptions.formatter=_.jqplot.DateTickFormatter,this.tickInset=0,this.drawBaseline=!0,this.baselineWidth=null,this.baselineColor=null,this.daTickInterval=null,this._daTickInterval=null,_.extend(!0,this,t);for(var i,e,s,n,a,r,h,l=this._dataBounds,o=0;o<this._series.length;o++){i={intervals:[],frequencies:{},sortedIntervals:[],min:null,max:null,mean:null},e=0,n=(s=this._series[o]).data,a=s._plotData,r=s._stackData;for(var m=h=0;m<n.length;m++)"xaxis"==this.name||"x2axis"==this.name?(n[m][0]=new _.jsDate(n[m][0]).getTime(),a[m][0]=new _.jsDate(a[m][0]).getTime(),r[m][0]=new _.jsDate(r[m][0]).getTime(),(null!=n[m][0]&&n[m][0]<l.min||null==l.min)&&(l.min=n[m][0]),(null!=n[m][0]&&n[m][0]>l.max||null==l.max)&&(l.max=n[m][0]),0<m&&(h=Math.abs(n[m][0]-n[m-1][0]),i.intervals.push(h),i.frequencies.hasOwnProperty(h)?i.frequencies[h]+=1:i.frequencies[h]=1),e+=h):(n[m][1]=new _.jsDate(n[m][1]).getTime(),a[m][1]=new _.jsDate(a[m][1]).getTime(),r[m][1]=new _.jsDate(r[m][1]).getTime(),(null!=n[m][1]&&n[m][1]<l.min||null==l.min)&&(l.min=n[m][1]),(null!=n[m][1]&&n[m][1]>l.max||null==l.max)&&(l.max=n[m][1]),0<m&&(h=Math.abs(n[m][1]-n[m-1][1]),i.intervals.push(h),i.frequencies.hasOwnProperty(h)?i.frequencies[h]+=1:i.frequencies[h]=1)),e+=h;if(s.renderer.bands){if(s.renderer.bands.hiData.length)for(var m=0,c=(u=s.renderer.bands.hiData).length;m<c;m++)"xaxis"===this.name||"x2axis"===this.name?(u[m][0]=new _.jsDate(u[m][0]).getTime(),(null!=u[m][0]&&u[m][0]>l.max||null==l.max)&&(l.max=u[m][0])):(u[m][1]=new _.jsDate(u[m][1]).getTime(),(null!=u[m][1]&&u[m][1]>l.max||null==l.max)&&(l.max=u[m][1]));if(s.renderer.bands.lowData.length)for(var u,m=0,c=(u=s.renderer.bands.lowData).length;m<c;m++)"xaxis"===this.name||"x2axis"===this.name?(u[m][0]=new _.jsDate(u[m][0]).getTime(),(null!=u[m][0]&&u[m][0]<l.min||null==l.min)&&(l.min=u[m][0])):(u[m][1]=new _.jsDate(u[m][1]).getTime(),(null!=u[m][1]&&u[m][1]<l.min||null==l.min)&&(l.min=u[m][1]))}for(var k in i.frequencies)i.sortedIntervals.push({interval:k,frequency:i.frequencies[k]});i.sortedIntervals.sort(function(t,i){return i.frequency-t.frequency}),i.min=_.jqplot.arrayMin(i.intervals),i.max=_.jqplot.arrayMax(i.intervals),i.mean=e/n.length,this._intervalStats.push(i),i=e=s=n=a=r=null}l=null},_.jqplot.DateAxisRenderer.prototype.reset=function(){this.min=this._options.min,this.max=this._options.max,this.tickInterval=this._options.tickInterval,this.numberTicks=this._options.numberTicks,this._autoFormatString="",this._overrideFormatString&&this.tickOptions&&this.tickOptions.formatString&&(this.tickOptions.formatString=""),this.daTickInterval=this._daTickInterval},_.jqplot.DateAxisRenderer.prototype.createTicks=function(t){this._ticks;var i=this.ticks,e=this.name,s=this._dataBounds,n=(this._intervalStats,"x"===this.name.charAt(0)?this._plotDimensions.width:this._plotDimensions.height),a=1,r=null;null!=this.tickInterval&&(Number(this.tickInterval)?r=[Number(this.tickInterval),"seconds"]:"string"==typeof this.tickInterval&&(1==(h=this.tickInterval.split(" ")).length?r=[1,h[0]]:2==h.length&&(r=[h[0],h[1]])));this.tickInterval;M=new _.jsDate((null!=this.min?this:s).min).getTime(),p=new _.jsDate((null!=this.max?this:s).max).getTime();var h=t.plugins.cursor;h&&h._zoom&&h._zoom.zooming&&(this.min=null,this.max=null);t=p-M;if(null!=this.tickOptions&&this.tickOptions.formatString||(this._overrideFormatString=!0),i.length){for(c=0;c<i.length;c++){var l=i[c],o=new this.tickRenderer(this.tickOptions);l.constructor==Array?(o.value=new _.jsDate(l[0]).getTime(),o.label=l[1]):o.value=new _.jsDate(l).getTime(),this.showTicks?this.showTickMarks||(o.showMark=!1):(o.showLabel=!1,o.showMark=!1),o.setTick(o.value,this.name),this._ticks.push(o)}this.numberTicks=i.length,this.min=this._ticks[0].value,this.max=this._ticks[this.numberTicks-1].value,this.daTickInterval=[(this.max-this.min)/(this.numberTicks-1)/1e3,"seconds"]}else if(null==this.min&&null==this.max&&s.min==s.max){var m=_.extend(!0,{},this.tickOptions,{name:this.name,value:null});this.min=s.min-3e5,this.max=s.max+3e5,this.numberTicks=3;for(var c=this.min;c<=this.max;c+=3e5){m.value=c;o=new this.tickRenderer(m);this._overrideFormatString&&""!=this._autoFormatString&&(o.formatString=this._autoFormatString),o.showLabel=!1,o.showMark=!1,this._ticks.push(o)}this.showTicks&&(this._ticks[1].showLabel=!0),this.showTickMarks&&(this._ticks[1].showTickMarks=!0)}else if(null==this.min&&null==this.max){var u,k,d=_.extend(!0,{},this.tickOptions,{name:this.name,value:null});if(this.tickInterval||this.numberTicks?this.tickInterval?u=new _.jsDate(0).add(r[0],r[1]).getTime():this.numberTicks&&(u=(p-M)/((w=this.numberTicks)-1)):(h=Math.max(n,31),s=115,this.tickRenderer===_.jqplot.CanvasAxisTickRenderer&&this.tickOptions.angle&&(s=115-40*Math.abs(Math.sin(this.tickOptions.angle/180*Math.PI))),u=(p-M)/((w=Math.ceil((h-30)/s+1))-1)),u<=19*D){var v=function(t){for(var i,e,s,n=Number.MAX_VALUE,a=0,r=S.length;a<r;a++)(i=Math.abs(t-S[a]))<n&&(n=i,e=S[a],s=I[a]);return[e,s]}(u),T=v[0];this._autoFormatString=v[1],M=new _.jsDate(M),M=Math.floor((M.getTime()-M.getUtcOffset())/T)*T+M.getUtcOffset(),w=Math.ceil((p-M)/T)+1,this.min=M,this.max=M+(w-1)*T,this.max<p&&(this.max+=T,w+=1),this.tickInterval=T,this.numberTicks=w;for(c=0;c<w;c++)d.value=this.min+c*T,o=new this.tickRenderer(d),this._overrideFormatString&&""!=this._autoFormatString&&(o.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(o.showMark=!1):(o.showLabel=!1,o.showMark=!1),this._ticks.push(o);a=this.tickInterval}else if(u<=9*b){this._autoFormatString="%v",(k=Math.round(u/b))<1?k=1:6<k&&(k=6);var g=new _.jsDate(M).setDate(1).setHours(0,0,0,0),v=new _.jsDate(p),x=new _.jsDate(p).setDate(1).setHours(0,0,0,0);v.getTime()!==x.getTime()&&(x=x.add(1,"month"));var v=x.diff(g,"month"),w=Math.ceil(v/k)+1;this.min=g.getTime(),this.max=g.clone().add((w-1)*k,"month").getTime(),this.numberTicks=w;for(c=0;c<w;c++)d.value=(0===c?g:g.add(k,"month")).getTime(),o=new this.tickRenderer(d),this._overrideFormatString&&""!=this._autoFormatString&&(o.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(o.showMark=!1):(o.showLabel=!1,o.showMark=!1),this._ticks.push(o);a=k*b}else{this._autoFormatString="%v",(k=Math.round(u/j))<1&&(k=1);g=new _.jsDate(M).setMonth(0,1).setHours(0,0,0,0),x=(x=new _.jsDate(p).add(1,"year").setMonth(0,1).setHours(0,0,0,0)).diff(g,"year");w=Math.ceil(x/k)+1,this.min=g.getTime(),this.max=g.clone().add((w-1)*k,"year").getTime(),this.numberTicks=w;for(c=0;c<w;c++)d.value=(0===c?g:g.add(k,"year")).getTime(),o=new this.tickRenderer(d),this._overrideFormatString&&""!=this._autoFormatString&&(o.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(o.showMark=!1):(o.showLabel=!1,o.showMark=!1),this._ticks.push(o);a=k*j}}else{n="xaxis"==e||"x2axis"==e?this._plotDimensions.width:this._plotDimensions.height;null!=this.min&&null!=this.max&&null!=this.numberTicks&&(this.tickInterval=null),null!=this.tickInterval&&null!=r&&(this.daTickInterval=r),M==p&&(M-=432e5,p+=432e5),t=p-M;parseInt(Math.max(0,n-100)/100,10);var r=null!=this.min?new _.jsDate(this.min).getTime():M-t/2*(this.padMin-1),p=null!=this.max?new _.jsDate(this.max).getTime():p+t/2*(this.padMax-1);this.min=r,this.max=p,t=this.max-this.min,null==this.numberTicks&&(null!=this.daTickInterval?(p=new _.jsDate(this.max).diff(this.min,this.daTickInterval[1],!0),this.numberTicks=Math.ceil(p/this.daTickInterval[0])+1,this.max=new _.jsDate(this.min).add((this.numberTicks-1)*this.daTickInterval[0],this.daTickInterval[1]).getTime()):this.numberTicks=200<n?parseInt(3+(n-200)/100,10):2),a=t/(this.numberTicks-1)/1e3,null==this.daTickInterval&&(this.daTickInterval=[a,"seconds"]);for(c=0;c<this.numberTicks;c++){var M,f=(M=new _.jsDate(this.min)).add(c*this.daTickInterval[0],this.daTickInterval[1]).getTime(),o=new this.tickRenderer(this.tickOptions);this.showTicks?this.showTickMarks||(o.showMark=!1):(o.showLabel=!1,o.showMark=!1),o.setTick(f,this.name),this._ticks.push(o)}}this.tickInset&&(this.min=this.min-this.tickInset*a,this.max=this.max+this.tickInset*a),null==this._daTickInterval&&(this._daTickInterval=this.daTickInterval)}}(jQuery);